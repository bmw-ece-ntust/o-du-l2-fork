# Summary of ASN1C Compiler Issues and Resolution Steps

Start Date: 2024/10/25
Summary: Addressed significant ASN1C compiler issues in the OSC project by identifying problems, implementing resolution steps, and proposing next steps for stability improvement.
Status: Done
Assign: Ming ÂíöÂíö [ÈäòÈ¥ª]
Finish Date: 2024/10/25
SUM: üóìÔ∏è Days Spent to Complete: 0

## Problem Identification

I encountered significant issues while using two different ASN1C compilers for the OSC (O-RAN Software Community) project. The main problems were:

- Decoding failures in Wireshark for various SIB1 messages encoded by Nokia's OSC asn1c compiler.
- Decoding failures in Wireshark for various F1 messages encoded by Nokia's OSC asn1c compiler.
- Discrepancies between OSC (using release 15) and OAI (using release 17) ASN.1 versions.
- Multiple function declarations between the RRC folder generated by the OAI compiler and OSC's native COMMON folder.
- Compilation issues with the -gen-UPER parameter, as the official ASN.1 compiler version didn't support it.

## Resolution Steps

To address these issues, I took the following steps:

- Generated new codecs using the updated GitHub repository for Nokia's asn1c.
- Used specific compiler commands to generate the required files, such as:

```bash
./asn1c -D ../F1_output/ -fcompound-names -fno-include-deps -findirect-choice -gen-PER ../F1.asn1
```

- Compared the outputs from Nokia and OAI SN1 compilers to identify inconsistencies.
- Removed multiple definition files from the COMMON folder, specifically src/codec_utils/common/ANY.c.

## Results Generated for Nokia

I generated the following results for Nokia:

- Identified that assigning addresses to DCI format structures without parameters caused decoding failures.
- Provided a main.c file containing code to fill BCCH-DL-SCH-Message with SIB1 for further analysis.

## Proposed Next Steps

To fully resolve these issues, I propose the following steps:

- Carefully review and resolve the remaining duplicate function declarations.
- Ensure compatibility between the ASN.1 versions used by OSC and OAI, potentially updating OSC to use release 17.
- Address the remaining decoding issues in Wireshark, particularly focusing on the DCI format structures.
- Investigate using a version of the ASN.1 compiler that supports all required parameters, including -gen-UPER.
- Conduct further testing on different operating systems, especially CentOS, to ensure cross-platform compatibility.

I believe that by collaborating with Nokia and OAI teams on these steps, we can fully resolve the ASN1C compiler issues and improve the overall stability of the OSC project.